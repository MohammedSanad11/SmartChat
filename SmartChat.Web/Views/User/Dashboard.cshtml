@model SmartChat.Web.Views.viewModle.UserDashboardViewModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Dashboard";
}

    <!-- Main Dashboard Content -->
    <div class="main-content">
        <h2 class="page-title">📊 User Dashboard</h2>

        <!-- Cards -->
        <div class="cards-row">
            <div class="custom-card">
                <h5>Total Chats</h5>
                <h2>@Model.TotalChats</h2>
            </div>
            <div class="custom-card">
                <h5>Active Chats</h5>
                <h2>@Model.ActiveChats</h2>
                <small>@Model.ActiveChatPercentage %</small>
            </div>
            <div class="custom-card">
                <h5>Daily Messages</h5>
                <h2>@Model.DailyMessages</h2>
            </div>
        </div>

        <!-- Chart -->
        <div class="chart-container">
            <canvas id="messagesChart"></canvas>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('messagesChart').getContext('2d');
        var messagesChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
                datasets: [{
                    label: 'Daily Messages',
                    data: [5, 12, 8, 20, 15, 7, @Model.DailyMessages],
                    borderColor: '#FFD700',
                    backgroundColor: 'rgba(255, 215, 0, 0.2)',
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#FFD700',
                    pointBorderColor: '#fff',
                    pointRadius: 5
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: {
                            color: '#fff'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    y: {
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });
    </script>
}
<style>
.dashboard-container {
    display: flex;
}

/* Sidebar أخذناه من الكود السابق */

.main-content {
    flex: 1;
    margin-left: 230px; /* مساحة السايدبار */
    padding: 2rem;
    background-color: #1b1b1b;
    min-height: 100vh;
    color: var(--text-main);
}

.page-title {
    margin-bottom: 2rem;
    font-weight: bold;
    color: #FFD700;
}

/* Cards */
.cards-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.custom-card {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    transition: 0.3s;
}

.custom-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.6);
}

.custom-card h5 {
    color: #aaa;
    margin-bottom: 0.7rem;
}

.custom-card h2 {
    color: #FFD700;
    margin: 0;
}

/* Chart */
.chart-container {
    background: #2a2a2a;
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
}
</style>